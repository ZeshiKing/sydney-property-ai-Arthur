"""
Sydney Suburb-Postcode Mapping Database
Comprehensive mapping of Sydney suburbs to their NSW postcodes for live property search URL construction.
"""

# Comprehensive Sydney suburb-postcode mapping
SYDNEY_SUBURB_POSTCODE_MAPPING = {
    # Inner City & CBD (2000-2009)
    "Sydney": "2000",
    "Haymarket": "2000",
    "The Rocks": "2000",
    "Millers Point": "2000",
    "Dawes Point": "2000",
    "Circular Quay": "2000",
    "Barangaroo": "2000",
    "Ultimo": "2007",
    "Pyrmont": "2009",
    "Darlington": "2008",
    "Camperdown": "2050",
    
    # Eastern Suburbs (2021-2031)
    "Paddington": "2021",
    "Bondi Junction": "2022",
    "Woollahra": "2025",
    "Double Bay": "2028",
    "Rose Bay": "2029",
    "Vaucluse": "2030",
    "Watsons Bay": "2030",
    "Dover Heights": "2030",
    "Bondi": "2026",
    "Bondi Beach": "2026",
    "North Bondi": "2026",
    "Tamarama": "2026",
    "Bronte": "2024",
    "Coogee": "2034",
    "Clovelly": "2031",
    "Randwick": "2031",
    "Kensington": "2033",
    "Kingsford": "2032",
    "Maroubra": "2035",
    "Malabar": "2036",
    "Little Bay": "2036",
    "La Perouse": "2036",
    "Daceyville": "2032",
    "Eastgardens": "2035",
    "Pagewood": "2035",
    "Hillsdale": "2036",
    "Centennial Park": "2021",
    "Queens Park": "2022",
    "Bellevue Hill": "2023",
    "Point Piper": "2027",
    "Edgecliff": "2027",
    "Darling Point": "2027",
    "Rushcutters Bay": "2011",
    "Elizabeth Bay": "2011",
    "Potts Point": "2011",
    "Kings Cross": "2011",
    "Woolloomooloo": "2011",
    
    # Inner West (2037-2049)
    "Glebe": "2037",
    "Forest Lodge": "2037",
    "Annandale": "2038",
    "Rozelle": "2039",
    "Lilyfield": "2040",
    "Leichhardt": "2040",
    "Balmain": "2041",
    "Balmain East": "2041",
    "Birchgrove": "2041",
    "Enmore": "2042",
    "Newtown": "2042",
    "Erskineville": "2043",
    "Eveleigh": "2015",
    "Redfern": "2016",
    "Waterloo": "2017",
    "Chippendale": "2008",
    "Surry Hills": "2010",
    "Darlinghurst": "2010",
    "Marrickville": "2204",
    "Dulwich Hill": "2203",
    "Hurlstone Park": "2193",
    "Stanmore": "2048",
    "Petersham": "2049",
    "Lewisham": "2049",
    "Summer Hill": "2130",
    "Ashfield": "2131",
    "Croydon": "2132",
    "Burwood": "2134",
    "Strathfield": "2135",
    "Homebush": "2140",
    "Homebush West": "2140",
    "Flemington": "2140",
    "North Strathfield": "2137",
    "Concord": "2137",
    "Concord West": "2138",
    "Rhodes": "2138",
    "Wentworth Point": "2127",
    "Breakfast Point": "2137",
    "Mortlake": "2137",
    "Cabarita": "2137",
    "Chiswick": "2046",
    "Abbotsford": "2046",
    "Wareemba": "2046",
    "Five Dock": "2046",
    "Rodd Point": "2046",
    "Russell Lea": "2046",
    "Drummoyne": "2047",
    "Canada Bay": "2046",
    "Liberty Grove": "2138",
    
    # North Shore (2060-2099)
    "North Sydney": "2060",
    "McMahons Point": "2060",
    "Lavender Bay": "2060",
    "Milsons Point": "2061",
    "Kirribilli": "2061",
    "Neutral Bay": "2089",
    "Kurraba Point": "2089",
    "Cremorne": "2090",
    "Cremorne Point": "2090",
    "Mosman": "2088",
    "Spit Junction": "2088",
    "Balmoral": "2088",
    "The Spit": "2088",
    "Cammeray": "2062",
    "Naremburn": "2065",
    "Crows Nest": "2065",
    "Wollstonecraft": "2065",
    "Greenwich": "2065",
    "Lane Cove": "2066",
    "Lane Cove North": "2066",
    "Lane Cove West": "2066",
    "Longueville": "2066",
    "Riverview": "2066",
    "Artarmon": "2064",
    "Chatswood": "2067",
    "Chatswood West": "2067",
    "Willoughby": "2068",
    "Willoughby East": "2068",
    "Castle Cove": "2069",
    "Roseville": "2069",
    "Roseville Chase": "2069",
    "Lindfield": "2070",
    "East Lindfield": "2070",
    "Killara": "2071",
    "Gordon": "2072",
    "Pymble": "2073",
    "Turramurra": "2074",
    "Warrawee": "2074",
    "Wahroonga": "2076",
    "Waitara": "2077",
    "Hornsby": "2077",
    "Hornsby Heights": "2077",
    "Normanhurst": "2076",
    "Thornleigh": "2120",
    "Pennant Hills": "2120",
    "West Pennant Hills": "2125",
    "Beecroft": "2119",
    "Cheltenham": "2119",
    "Carlingford": "2118",
    "Epping": "2121",
    "North Epping": "2121",
    "Eastwood": "2122",
    "Denistone": "2114",
    "Denistone East": "2112",
    "Denistone West": "2114",
    "Ryde": "2112",
    "West Ryde": "2114",
    "Gladesville": "2111",
    "Huntleys Point": "2111",
    "Tennyson Point": "2111",
    "Putney": "2112",
    "Meadowbank": "2114",
    "Melrose Park": "2114",
    "Ermington": "2115",
    "Rydalmere": "2116",
    "Dundas": "2117",
    "Telopea": "2117",
    "Carlingford": "2118",
    "North Rocks": "2151",
    "Baulkham Hills": "2153",
    "Castle Hill": "2154",
    "Kellyville": "2155",
    "Kellyville Ridge": "2155",
    "Beaumont Hills": "2155",
    "Acacia Gardens": "2154",
    "Glenhaven": "2156",
    "Dural": "2158",
    "Galston": "2159",
    "Middle Dural": "2158",
    "Kenthurst": "2156",
    "Annangrove": "2156",
    "Round Corner": "2158",
    "Glenorie": "2157",
    
    # Northern Beaches (2084-2107)
    "Manly": "2095",
    "Manly Vale": "2093",
    "Fairlight": "2094",
    "Balgowlah": "2093",
    "Balgowlah Heights": "2093",
    "Clontarf": "2093",
    "Seaforth": "2092",
    "Curl Curl": "2096",
    "Freshwater": "2096",
    "Brookvale": "2100",
    "Dee Why": "2099",
    "Dee Why West": "2099",
    "Collaroy": "2097",
    "Collaroy Plateau": "2097",
    "Narrabeen": "2101",
    "North Narrabeen": "2101",
    "Elanora Heights": "2101",
    "Warriewood": "2102",
    "Mona Vale": "2103",
    "Bayview": "2104",
    "Church Point": "2105",
    "Elvina Bay": "2105",
    "Lovett Bay": "2105",
    "Scotland Island": "2105",
    "Morning Bay": "2105",
    "Newport": "2106",
    "Bilgola": "2107",
    "Bilgola Plateau": "2107",
    "Avalon": "2107",
    "Avalon Beach": "2107",
    "Clareville": "2107",
    "Whale Beach": "2107",
    "Palm Beach": "2108",
    "Bungan Beach": "2107",
    "Ingleside": "2101",
    "Oxford Falls": "2100",
    "Frenchs Forest": "2086",
    "Belrose": "2085",
    "Davidson": "2085",
    "Forestville": "2087",
    "Killarney Heights": "2087",
    "Warringah Mall": "2100",
    "Allambie Heights": "2100",
    "Beacon Hill": "2100",
    "Queenscliff": "2096",
    "North Curl Curl": "2099",
    "Wheeler Heights": "2097",
    "Cromer": "2099",
    "Narraweena": "2099",
    "Turimetta": "2101",
    "Terrey Hills": "2084",
    "Duffys Forest": "2084",
    
    # West & Southwest (2145-2179)
    "Parramatta": "2150",
    "North Parramatta": "2151",
    "Westmead": "2145",
    "Harris Park": "2150",
    "Granville": "2142",
    "South Granville": "2142",
    "Clyde": "2142",
    "Rosehill": "2142",
    "Camellia": "2142",
    "Dundas Valley": "2117",
    "Oatlands": "2117",
    "Silverwater": "2128",
    "Newington": "2127",
    "Sydney Olympic Park": "2127",
    "Auburn": "2144",
    "Lidcombe": "2141",
    "Berala": "2141",
    "Regents Park": "2143",
    "Sefton": "2162",
    "Chester Hill": "2162",
    "Leightonfield": "2143",
    "Birrong": "2143",
    "Potts Hill": "2143",
    "Bankstown": "2200",
    "Yagoona": "2199",
    "Condell Park": "2200",
    "Lansdowne": "2163",
    "Villawood": "2163",
    "Carramar": "2163",
    "Fairfield": "2165",
    "Fairfield East": "2165",
    "Fairfield West": "2165",
    "Fairfield Heights": "2165",
    "Prairiewood": "2176",
    "Wetherill Park": "2164",
    "Edensor Park": "2176",
    "Bonnyrigg": "2177",
    "Bonnyrigg Heights": "2177",
    "Cecil Hills": "2171",
    "Elizabeth Hills": "2171",
    "Hoxton Park": "2171",
    "Prestons": "2170",
    "Liverpool": "2170",
    "Warwick Farm": "2170",
    "Chipping Norton": "2170",
    "Moorebank": "2170",
    "Hammondville": "2170",
    "Holsworthy": "2173",
    "Wattle Grove": "2173",
    "Sandy Point": "2172",
    "Voyager Point": "2172",
    "Pleasure Point": "2172",
    "Alfords Point": "2234",
    "Padstow": "2211",
    "Padstow Heights": "2211",
    "Revesby": "2212",
    "Revesby Heights": "2212",
    "Milperra": "2214",
    "Panania": "2213",
    "East Hills": "2213",
    "Picnic Point": "2213",
    "Georges Hall": "2198",
    "Lansdowne": "2163",
    "Bankstown Aerodrome": "2200",
    "Bass Hill": "2197",
    "Georges Hall": "2198",
    "Chullora": "2190",
    "Greenacre": "2190",
    "Mount Lewis": "2190",
    "Lakemba": "2195",
    "Wiley Park": "2195",
    "Punchbowl": "2196",
    "Roselands": "2196",
    "Narwee": "2209",
    "Beverly Hills": "2209",
    "Kingsgrove": "2208",
    "Clemton Park": "2206",
    "Campsie": "2194",
    "Belmore": "2192",
    "Belfield": "2191",
    "Strathfield South": "2136",
    "Enfield": "2136",
    "Croydon Park": "2133",
    "Enfield South": "2133",
    "Greenacre": "2190",
    "Chullora": "2190",
    "Yagoona": "2199",
    "Birrong": "2143",
    "Sefton": "2162",
    "Chester Hill": "2162",
    "Leightonfield": "2143",
    "Lansdowne": "2163",
    "Villawood": "2163",
    "Carramar": "2163",
    
    # St George Area (2205-2234)
    "Hurstville": "2220",
    "Allawah": "2218",
    "Carlton": "2218",
    "Kogarah": "2217",
    "Kogarah Bay": "2217",
    "Monterey": "2217",
    "Ramsgate": "2217",
    "Ramsgate Beach": "2217",
    "Sans Souci": "2219",
    "Dolls Point": "2219",
    "Sandringham": "2219",
    "Rockdale": "2216",
    "Wolli Creek": "2205",
    "Turrella": "2205",
    "Arncliffe": "2205",
    "Banksia": "2216",
    "Brighton Le Sands": "2216",
    "Kyeemagh": "2216",
    "Tempe": "2044",
    "Marrickville": "2204",
    "Dulwich Hill": "2203",
    "Canterbury": "2193",
    "Hurlstone Park": "2193",
    "Earlwood": "2206",
    "Undercliffe": "2206",
    "Beverly Hills": "2209",
    "Narwee": "2209",
    "Kingsgrove": "2208",
    "Bexley North": "2207",
    "Bardwell Park": "2207",
    "Bardwell Valley": "2207",
    "Bexley": "2207",
    "Rockdale": "2216",
    "Kogarah": "2217",
    "Blakehurst": "2221",
    "Carss Park": "2221",
    "Connells Point": "2221",
    "Kyle Bay": "2221",
    "Oatley": "2223",
    "Mortdale": "2223",
    "Penshurst": "2222",
    "Lugarno": "2210",
    "Peakhurst": "2210",
    "Peakhurst Heights": "2210",
    "Riverwood": "2210",
    "South Hurstville": "2221",
    "Hurstville Grove": "2220",
    "Jannali": "2226",
    "Como": "2226",
    "Oyster Bay": "2225",
    "Bonnet Bay": "2226",
    "Woronora": "2232",
    "Woronora Heights": "2233",
    "Sutherland": "2232",
    "Kirrawee": "2232",
    "Grays Point": "2232",
    "Bangor": "2234",
    "Menai": "2234",
    "Illawong": "2234",
    "Barden Ridge": "2234",
    "Lucas Heights": "2234",
    "Alfords Point": "2234",
    "Yowie Bay": "2228",
    "Lilli Pilli": "2229",
    "Port Hacking": "2229",
    "Cronulla": "2230",
    "Burraneer": "2230",
    "Caringbah": "2229",
    "Caringbah South": "2229",
    "Woolooware": "2230",
    "Kurnell": "2231",
    "Bundeena": "2230",
    "Maianbar": "2230",
    "Gymea": "2227",
    "Gymea Bay": "2227",
    "Miranda": "2228",
    "Sylvania": "2224",
    "Sylvania Waters": "2224",
    "Gwynville": "2224",
    
    # Outer West (2747-2770)
    "Penrith": "2750",
    "Kingswood": "2747",
    "Werrington": "2747",
    "Werrington County": "2747",
    "Werrington Downs": "2747",
    "Cambridge Gardens": "2747",
    "Cambridge Park": "2747",
    "Lethbridge Park": "2770",
    "Tregear": "2770",
    "Shalvey": "2770",
    "Willmot": "2770",
    "Whalan": "2770",
    "Hebersham": "2770",
    "Blackett": "2770",
    "Doonside": "2767",
    "Woodcroft": "2767",
    "Dharruk": "2770",
    "Plumpton": "2761",
    "Mount Druitt": "2770",
    "Rooty Hill": "2766",
    "Bidwill": "2770",
    "Emerton": "2770",
    "Lethbridge Park": "2770",
    "Tregear": "2770",
    "Blacktown": "2148",
    "Marayong": "2148",
    "Prospect": "2148",
    "Kings Langley": "2147",
    "Kings Park": "2148",
    "Lalor Park": "2147",
    "Seven Hills": "2147",
    "Toongabbie": "2146",
    "Girraween": "2145",
    "Greystanes": "2145",
    "Pembrooke": "2145",
    "Merrylands": "2160",
    "Merrylands West": "2160",
    "Holroyd": "2142",
    "Guildford": "2161",
    "Guildford West": "2161",
    "Yennora": "2161",
    "Fairfield": "2165",
    "Smithfield": "2164",
    "Wetherill Park": "2164",
    "Cecil Park": "2178",
    "Mount Vernon": "2178",
    "Bossley Park": "2176",
    "Abbotsbury": "2176",
    "Green Valley": "2168",
    "Heckenberg": "2168",
    "Busby": "2168",
    "Cartwright": "2168",
    "Sadleir": "2168",
    "Miller": "2168",
    "Ashcroft": "2168",
    "Lurnea": "2170",
    "Casula": "2170",
    "Prestons": "2170",
    "Liverpool": "2170",
    
    # Northwest (2154-2159)
    "Rouse Hill": "2155",
    "Kellyville": "2155",
    "Kellyville Ridge": "2155",
    "Beaumont Hills": "2155",
    "Acacia Gardens": "2154",
    "Stanhope Gardens": "2768",
    "The Ponds": "2769",
    "Schofields": "2762",
    "Riverstone": "2765",
    "Marsden Park": "2765",
    "Box Hill": "2765",
    "Nelson": "2765",
    "Glendenning": "2761",
    "Dean Park": "2761",
    "St Marys": "2760",
    "St Clair": "2759",
    "Colyton": "2760",
    "Oxley Park": "2760",
    "Erskine Park": "2759",
    "Minchinbury": "2770",
    "Hassall Grove": "2761",
    "Oakhurst": "2761",
    "Sanctuary Point": "2540",
    
    # South (2500-2540)
    "Wollongong": "2500",
    "Thirroul": "2515",
    "Austinmer": "2515",
    "Coledale": "2515",
    "Stanwell Park": "2508",
    "Stanwell Tops": "2508",
    "Otford": "2508",
    "Helensburgh": "2508",
    "Waterfall": "2508",
    "Heathcote": "2233",
    "Engadine": "2233",
    "Loftus": "2232",
    "Yarrawarrah": "2233",
    "Woronora": "2232",
    "Woronora Heights": "2233",
    
    # Additional areas
    "Zetland": "2017",
    "Rosebery": "2018",
    "Alexandria": "2015",
    "Mascot": "2020",
    "Botany": "2019",
    "Eastlakes": "2018",
    "Beaconsfield": "2015",
    "Green Square": "2018",
    "Moore Park": "2021",
    "Centennial Park": "2021",
    "Paddington": "2021",
    "Woollahra": "2025",
    "Edgecliff": "2027",
    "Double Bay": "2028",
    "Point Piper": "2027",
}

def get_postcode_for_suburb(suburb_name: str) -> str:
    """
    Get postcode for a given suburb name.
    Case-insensitive search with fallback handling.
    
    Args:
        suburb_name: The suburb name to look up
        
    Returns:
        Postcode string or None if not found
    """
    if not suburb_name:
        return None
        
    # Direct lookup (case-insensitive)
    for suburb, postcode in SYDNEY_SUBURB_POSTCODE_MAPPING.items():
        if suburb.lower() == suburb_name.lower():
            return postcode
    
    # Partial match lookup
    suburb_lower = suburb_name.lower().strip()
    for suburb, postcode in SYDNEY_SUBURB_POSTCODE_MAPPING.items():
        if suburb_lower in suburb.lower() or suburb.lower() in suburb_lower:
            return postcode
    
    return None

def get_all_suburbs() -> list:
    """Get list of all available suburbs."""
    return list(SYDNEY_SUBURB_POSTCODE_MAPPING.keys())

def get_suburbs_by_postcode(postcode: str) -> list:
    """Get all suburbs for a given postcode."""
    return [suburb for suburb, pc in SYDNEY_SUBURB_POSTCODE_MAPPING.items() if pc == postcode]

def normalize_suburb_name(suburb_name: str) -> str:
    """
    Normalize suburb name for URL construction.
    Handles spaces, hyphens, and special characters.
    """
    if not suburb_name:
        return ""
    
    # Replace spaces with hyphens and lowercase
    normalized = suburb_name.lower().replace(" ", "-").replace("_", "-")
    
    # Remove special characters except hyphens
    import re
    normalized = re.sub(r'[^a-z0-9\-]', '', normalized)
    
    # Remove multiple consecutive hyphens
    normalized = re.sub(r'-+', '-', normalized)
    
    # Remove leading/trailing hyphens
    normalized = normalized.strip('-')
    
    return normalized

if __name__ == "__main__":
    # Test the mapping
    test_suburbs = ["Bondi", "Chatswood", "Parramatta", "Manly", "Sydney"]
    
    print("Sydney Suburb-Postcode Mapping Test:")
    print("=" * 40)
    
    for suburb in test_suburbs:
        postcode = get_postcode_for_suburb(suburb)
        normalized = normalize_suburb_name(suburb)
        print(f"{suburb} -> {postcode} (normalized: {normalized})")
    
    print(f"\nTotal suburbs in database: {len(SYDNEY_SUBURB_POSTCODE_MAPPING)}")